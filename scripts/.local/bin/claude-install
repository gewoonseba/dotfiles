#!/usr/bin/env bash
set -e

# Find the dotfiles root relative to this script's location
DOTFILES_DIR=$(cd "$(dirname "$0")/../../../" && pwd)

echo "󰚩 Installing Claude Code..."

# Check if claude is already installed
if command -v claude &> /dev/null; then
    echo "  󰄬 Claude Code is already installed"
    claude --version
    exit 0
fi

# Install Claude Code
echo "  󰇚 Downloading and installing Claude Code..."
curl -fsSL https://claude.ai/install.sh | bash

echo "  󰄬 Claude Code installation complete"

# Verify installation
if command -v claude &> /dev/null; then
    echo "  󰄬 Successfully installed Claude Code"
    claude --version
else
    echo "  ⚠ Claude Code installation may require a shell restart"
fi
